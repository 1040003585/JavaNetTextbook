package _05ÊµÑéÎå_»ùÓÚUDP±à³ÌÊµÑétestTeacher¨‹å®žéªŒtestTeacher;

import java.io.*;
import java.net.*;

public class UDPClientTest {
	public static void main(String args[]) {
		try {
			// ï¿½ï¿½ï¿½ï¿½
			DatagramSocket localSocket = new DatagramSocket(3456);
			String string = "222.17.106.99:5000:Wu_Being";
			byte[] databyte = new byte[100];
			databyte = string.getBytes();
			DatagramPacket localPacket = new DatagramPacket(databyte, string
					.length(), InetAddress.getByName("222.17.106.113"), 5000);
			localSocket.send(localPacket);
			System.out.println("ï¿½Í»ï¿½ï¿½Ë¿ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý£ï¿?);

			// ï¿½ï¿½ï¿½Õ»Ø¸ï¿½
			System.out.println("ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý£ï¿?);
			while (true) {
				localSocket.receive(localPacket);
				String name = localPacket.getAddress().toString();
				int port=localPacket.getPort();
				System.out.println("/nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½" + name + "/nï¿½Ë¿Ú£ï¿½"
						+ port);
				String s = new String(localPacket.getData(), 0, localPacket
						.getLength());
				System.out.println("ï¿½ï¿½ï¿½Üµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿? " + s);

				localPacket = new DatagramPacket(databyte, string.length(),
						InetAddress.getByName("222.17.106.113"), port);
				localSocket.send(localPacket);
			}

		} catch (SocketException e) {
			System.out.println("ï¿½ï¿½ï¿½Ü´ï¿½ï¿½ï¿½Ý±ï¿½Socketï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý±ï¿½Socketï¿½Þ·ï¿½ï¿½ï¿½Ö¸ï¿½ï¿½ï¿½Ë¿ï¿½ï¿½ï¿½ï¿½ï¿½!");
		} catch (IOException ioe) {
			System.out.println(ioe.toString());
		}
	}
}