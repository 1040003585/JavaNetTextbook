package _5_2DatagramSocket编程示例._5_2_2利用数据报通信的CS程序;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.SocketException;

/**
 * 
 * Copyright ? 2016 Authors. All rights reserved.
 *
 * FileName: .java
 * @author : Wu_Being <1040003585@qq.com>
 * Date/Time: 2016-6-10/下午10:36:26
 * Description:
 */
public class UDPReceiver {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub

		try {
			DatagramSocket receiveSocket =new DatagramSocket(100);
			byte buf[]=new byte[1000];
			DatagramPacket receivepPacket=new DatagramPacket(buf,buf.length);
			System.out.println("starting to receive packet...");
			while(true){
				receiveSocket.receive(receivepPacket);
				byte[] receiveData=receivepPacket.getData();
				String name=receivepPacket.getAddress().getHostName();
				int port=receivepPacket.getPort();
				System.out.println("来自主机："+name);
				System.out.print("，的端口："+port);
				System.out.println("的数据："+receiveData);
				
			}
		} catch (SocketException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
