import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;

import org.eclipse.swt.SWT;
import org.eclipse.swt.events.MouseAdapter;
import org.eclipse.swt.events.MouseEvent;
import org.eclipse.swt.events.MouseListener;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.FileDialog;
import org.eclipse.swt.widgets.Shell;

import com.sun.org.apache.bcel.internal.generic.NEW;
import com.sun.xml.internal.ws.policy.privateutil.PolicyUtils.Text;

public class IOTest3_Shell {
	protected Shell shell;
	private Text text;

	public static void main(String[] args) {
		IOTest3_Shell window = new IOTest3_Shell();
		window.open();
		System.out.println("hello .");
	}

	public void open() {
		Display display = Display.getDefault();
		createContents();
		shell.open();
		shell.layout();
		while (!shell.isDisposed()) {
			if (!display.readAndDispatch()) {
				display.sleep();
			}
		}
	}

	protected void createContents() {
		shell = new Shell();
		shell.setBounds(300, 300, 300, 300);
		shell.setText("Wu_Being――操作界面");
		{
			Button btnNewButton = new Button(shell, SWT.NONE);
			btnNewButton.addMouseListener(new MouseAdapter() {
				public void mouseDown(MouseEvent e) {
					FileDialog dialog = new FileDialog(shell, SWT.NONE);
					dialog.setFilterExtensions(new String[] { "*.txt", "*.doc",
							"*.*" });	//设置过滤的文件扩展名
					dialog				//设置文件路径
							.setFilterPath("E:\\gitfile\\javanettextbook\\javanettextbook\\0实验课\\01实验一\\IOTestFiles\\");
					String fileName = dialog.open();
					System.out.println(fileName);
					if (fileName != null) {
						try {
							FileReader fileReader = new FileReader(fileName);
							BufferedReader bufferedReader = new BufferedReader(
									fileReader);
						} catch (FileNotFoundException e1) {
							e1.printStackTrace();
						} finally {
						}
					} else {
						return;
					}

				}
			});
			btnNewButton.setBounds(10, 210, 120, 37);
			btnNewButton.setText("请选择要打开的文件");
		}
	}

}